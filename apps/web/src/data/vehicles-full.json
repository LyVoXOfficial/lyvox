import json, os, copy

file_path = "/mnt/data/vehicles_full.json"
with open(file_path, "r", encoding="utf-8") as f:
    data = json.load(f)

existing_make_slugs = {m["slug"] for m in data["makes"]}

def model_template(slug, name_en, name_ru, body_types, fuels, transmissions, first_year, generations):
    # Determine last model year
    ongoing = any(g["end_year"] is None for g in generations)
    last_year = 2025 if ongoing else max(g["end_year"] for g in generations if g["end_year"] is not None)
    years_available = list(range(first_year, last_year + 1))
    return {
        "slug": slug,
        "name_en": name_en,
        "name_ru": name_ru,
        "body_types_available": body_types,
        "fuel_types_available": fuels,
        "transmission_available": transmissions,
        "first_model_year": first_year,
        "last_model_year": last_year,
        "generations": generations,
        "years_available": years_available,
        "allowed_conditions": ["new","used_good","used_needs_repair"],
        "mileage_km_min": 0,
        "mileage_km_max": 600000
    }

def make_template(slug, name_en, name_ru, country, segment, models):
    return {
        "slug": slug,
        "name_en": name_en,
        "name_ru": name_ru,
        "country": country,
        "segment_class": segment,
        "is_active": True,
        "category_path": "transport/legkovye-avtomobili",
        "models": models
    }

new_makes = []

def add_make(slug, *args, **kwargs):
    if slug not in existing_make_slugs:
        new_makes.append(make_template(slug, *args, **kwargs))

### Renault
add_make(
    "renault","Renault","Renault","France","mass",
    [
        model_template("clio","Clio","Clio",["hatchback"],["gasoline","diesel","hybrid"],
                       ["manual","automatic","cvt"],1998,[
            {"code":"II","start_year":1998,"end_year":2005,"body_types":["hatchback"],"notes_marketing_names":["Clio II"]},
            {"code":"III","start_year":2005,"end_year":2012,"body_types":["hatchback"],"notes_marketing_names":["Clio III"]},
            {"code":"IV","start_year":2012,"end_year":2019,"body_types":["hatchback"],"notes_marketing_names":["Clio IV"]},
            {"code":"V","start_year":2019,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["Clio V"]},
        ]),
        model_template("megane","Megane","Megane",["hatchback","sedan","wagon","convertible"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["manual","automatic","cvt"],1995,[
            {"code":"I","start_year":1995,"end_year":2002,"body_types":["hatchback","sedan","wagon","convertible"],"notes_marketing_names":["Megane I"]},
            {"code":"II","start_year":2002,"end_year":2009,"body_types":["hatchback","sedan","wagon","convertible"],"notes_marketing_names":["Megane II"]},
            {"code":"III","start_year":2009,"end_year":2016,"body_types":["hatchback","sedan","wagon"],"notes_marketing_names":["Megane III"]},
            {"code":"IV","start_year":2016,"end_year":None,"body_types":["hatchback","sedan","wagon"],"notes_marketing_names":["Megane IV"]},
        ]),
        model_template("duster","Duster","Duster",["crossover"],
                       ["gasoline","diesel"],
                       ["manual","automatic"],2010,[
            {"code":"I","start_year":2010,"end_year":2017,"body_types":["crossover"],"notes_marketing_names":["Duster I"]},
            {"code":"II","start_year":2017,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Duster II"]},
        ]),
        model_template("zoe","Zoe","Zoe",["hatchback"],
                       ["electric"],
                       ["automatic"],2012,[
            {"code":"I","start_year":2012,"end_year":2020,"body_types":["hatchback"],"notes_marketing_names":["Zoe I"]},
            {"code":"II","start_year":2020,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["Zoe II"]},
        ]),
    ]
)

### Peugeot
add_make(
    "peugeot","Peugeot","Пежо","France","mass",
    [
        model_template("208","208","208",["hatchback"],
                       ["gasoline","diesel","electric","hybrid"],
                       ["manual","automatic"],2012,[
            {"code":"I","start_year":2012,"end_year":2019,"body_types":["hatchback"],"notes_marketing_names":["208 I"]},
            {"code":"II","start_year":2019,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["208 II"]},
        ]),
        model_template("308","308","308",["hatchback","wagon"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["manual","automatic","dct"],2007,[
            {"code":"I","start_year":2007,"end_year":2013,"body_types":["hatchback","wagon"],"notes_marketing_names":["308 I"]},
            {"code":"II","start_year":2013,"end_year":2021,"body_types":["hatchback","wagon"],"notes_marketing_names":["308 II"]},
            {"code":"III","start_year":2021,"end_year":None,"body_types":["hatchback","wagon"],"notes_marketing_names":["308 III"]},
        ]),
        model_template("3008","3008","3008",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic","dct"],2009,[
            {"code":"I","start_year":2009,"end_year":2016,"body_types":["crossover"],"notes_marketing_names":["3008 I"]},
            {"code":"II","start_year":2016,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["3008 II"]},
        ]),
    ]
)

### Citroën
add_make(
    "citroen","Citroën","Ситроен","France","mass",
    [
        model_template("c3","C3","C3",["hatchback"],
                       ["gasoline","diesel"],
                       ["manual","automatic"],2002,[
            {"code":"I","start_year":2002,"end_year":2009,"body_types":["hatchback"],"notes_marketing_names":["C3 I"]},
            {"code":"II","start_year":2009,"end_year":2016,"body_types":["hatchback"],"notes_marketing_names":["C3 II"]},
            {"code":"III","start_year":2016,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["C3 III"]},
        ]),
        model_template("c4","C4","C4",["hatchback","crossover"],
                       ["gasoline","diesel","electric","hybrid"],
                       ["manual","automatic","cvt"],2004,[
            {"code":"I","start_year":2004,"end_year":2010,"body_types":["hatchback"],"notes_marketing_names":["C4 I"]},
            {"code":"II","start_year":2010,"end_year":2020,"body_types":["hatchback"],"notes_marketing_names":["C4 II / C4 Cactus"]},
            {"code":"III","start_year":2020,"end_year":None,"body_types":["hatchback","crossover"],"notes_marketing_names":["C4 III / ë-C4"]},
        ]),
        model_template("c5-aircross","C5 Aircross","C5 Aircross",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic"],2018,[
            {"code":"Aircross I","start_year":2018,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["C5 Aircross"]},
        ]),
    ]
)

### Fiat
add_make(
    "fiat","Fiat","Фиат","Italy","mass",
    [
        model_template("punto","Punto","Punto",["hatchback"],
                       ["gasoline","diesel"],
                       ["manual"],1994,[
            {"code":"Punto I","start_year":1993,"end_year":1999,"body_types":["hatchback"],"notes_marketing_names":["Punto I"]},
            {"code":"Punto II","start_year":1999,"end_year":2005,"body_types":["hatchback"],"notes_marketing_names":["Punto II"]},
            {"code":"Grande Punto / Punto Evo","start_year":2005,"end_year":2018,"body_types":["hatchback"],"notes_marketing_names":["Grande Punto","Punto Evo"]},
        ]),
        model_template("500","500","500",["hatchback","convertible"],
                       ["gasoline","hybrid","electric"],
                       ["manual","automatic"],2007,[
            {"code":"500 (312)","start_year":2007,"end_year":2020,"body_types":["hatchback","convertible"],"notes_marketing_names":["500"]},
            {"code":"500e","start_year":2020,"end_year":None,"body_types":["hatchback","convertible"],"notes_marketing_names":["500e"]},
        ]),
        model_template("tipo","Tipo","Tipo",["sedan","hatchback","wagon"],
                       ["gasoline","diesel","lpg"],
                       ["manual","automatic","dct"],2015,[
            {"code":"Tipo (356)","start_year":2015,"end_year":None,"body_types":["sedan","hatchback","wagon"],"notes_marketing_names":["Tipo / Egea"]},
        ]),
    ]
)

### Dacia
add_make(
    "dacia","Dacia","Дача","Romania","budget",
    [
        model_template("logan","Logan","Логан",["sedan","wagon"],
                       ["gasoline","diesel","lpg"],
                       ["manual","automatic"],2004,[
            {"code":"Logan I","start_year":2004,"end_year":2012,"body_types":["sedan","wagon"],"notes_marketing_names":["Logan I"]},
            {"code":"Logan II","start_year":2012,"end_year":2020,"body_types":["sedan","wagon"],"notes_marketing_names":["Logan II"]},
            {"code":"Logan III","start_year":2020,"end_year":None,"body_types":["sedan"],"notes_marketing_names":["Logan III"]},
        ]),
        model_template("sandero","Sandero","Сандеро",["hatchback","crossover"],
                       ["gasoline","diesel","lpg"],
                       ["manual","automatic","cvt"],2008,[
            {"code":"Sandero I","start_year":2008,"end_year":2012,"body_types":["hatchback"],"notes_marketing_names":["Sandero I"]},
            {"code":"Sandero II","start_year":2012,"end_year":2020,"body_types":["hatchback","crossover"],"notes_marketing_names":["Sandero II / Stepway"]},
            {"code":"Sandero III","start_year":2020,"end_year":None,"body_types":["hatchback","crossover"],"notes_marketing_names":["Sandero III / Stepway"]},
        ]),
        model_template("duster","Duster","Дастер",["crossover"],
                       ["gasoline","diesel","lpg"],
                       ["manual","automatic"],2010,[
            {"code":"Duster I","start_year":2010,"end_year":2017,"body_types":["crossover"],"notes_marketing_names":["Duster I"]},
            {"code":"Duster II","start_year":2017,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Duster II"]},
        ]),
    ]
)

### SEAT
add_make(
    "seat","SEAT","SEAT","Spain","mass",
    [
        model_template("leon","Leon","Leon",["hatchback","wagon"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["manual","automatic","dsg"],1999,[
            {"code":"1M","start_year":1999,"end_year":2005,"body_types":["hatchback"],"notes_marketing_names":["Leon Mk1"]},
            {"code":"1P","start_year":2005,"end_year":2012,"body_types":["hatchback"],"notes_marketing_names":["Leon Mk2"]},
            {"code":"5F","start_year":2012,"end_year":2020,"body_types":["hatchback","wagon"],"notes_marketing_names":["Leon Mk3"]},
            {"code":"KL","start_year":2020,"end_year":None,"body_types":["hatchback","wagon"],"notes_marketing_names":["Leon Mk4"]},
        ]),
        model_template("ibiza","Ibiza","Ibiza",["hatchback"],
                       ["gasoline","diesel","cng"],
                       ["manual","automatic","dsg"],1993,[
            {"code":"6K","start_year":1993,"end_year":2002,"body_types":["hatchback"],"notes_marketing_names":["Ibiza II"]},
            {"code":"6L","start_year":2002,"end_year":2008,"body_types":["hatchback"],"notes_marketing_names":["Ibiza III"]},
            {"code":"6J","start_year":2008,"end_year":2017,"body_types":["hatchback"],"notes_marketing_names":["Ibiza IV"]},
            {"code":"6F","start_year":2017,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["Ibiza V"]},
        ]),
    ]
)

### Cupra
add_make(
    "cupra","Cupra","Cupra","Spain","premium",
    [
        model_template("formentor","Formentor","Formentor",["crossover","coupe"],
                       ["gasoline","plug-in hybrid"],
                       ["automatic","dsg"],2020,[
            {"code":"Formentor I","start_year":2020,"end_year":None,"body_types":["crossover","coupe"],"notes_marketing_names":["Formentor"]},
        ]),
        model_template("leon","Leon","Leon",["hatchback","wagon"],
                       ["gasoline","plug-in hybrid"],
                       ["automatic","dsg","manual"],2020,[
            {"code":"Cupra Leon (KL)","start_year":2020,"end_year":None,"body_types":["hatchback","wagon"],"notes_marketing_names":["Cupra Leon"]},
        ]),
    ]
)

### Ford (Europe)
add_make(
    "ford","Ford","Форд","USA","mass",
    [
        model_template("focus","Focus","Фокус",["hatchback","sedan","wagon"],
                       ["gasoline","diesel","hybrid"],
                       ["manual","automatic","dct"],1998,[
            {"code":"Mk1","start_year":1998,"end_year":2004,"body_types":["hatchback","sedan","wagon"],"notes_marketing_names":["Focus Mk1"]},
            {"code":"Mk2","start_year":2004,"end_year":2011,"body_types":["hatchback","sedan","wagon"],"notes_marketing_names":["Focus Mk2"]},
            {"code":"Mk3","start_year":2011,"end_year":2018,"body_types":["hatchback","sedan","wagon"],"notes_marketing_names":["Focus Mk3"]},
            {"code":"Mk4","start_year":2018,"end_year":None,"body_types":["hatchback","wagon"],"notes_marketing_names":["Focus Mk4 (EU)"]},
        ]),
        model_template("mondeo","Mondeo","Мондео",["sedan","wagon","hatchback"],
                       ["gasoline","diesel","hybrid"],
                       ["manual","automatic","dct"],1996,[
            {"code":"Mk2","start_year":1996,"end_year":2000,"body_types":["sedan","hatchback","wagon"],"notes_marketing_names":["Mondeo Mk2 (EU)"]},
            {"code":"Mk3","start_year":2000,"end_year":2007,"body_types":["sedan","hatchback","wagon"],"notes_marketing_names":["Mondeo Mk3"]},
            {"code":"Mk4","start_year":2007,"end_year":2014,"body_types":["sedan","hatchback","wagon"],"notes_marketing_names":["Mondeo Mk4"]},
            {"code":"Mk5","start_year":2014,"end_year":2022,"body_types":["sedan","wagon"],"notes_marketing_names":["Mondeo Mk5 / Fusion"]},
        ]),
        model_template("kuga","Kuga","Куга",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["manual","automatic","dct","cvt"],2008,[
            {"code":"Kuga I","start_year":2008,"end_year":2012,"body_types":["crossover"],"notes_marketing_names":["Kuga I"]},
            {"code":"Kuga II","start_year":2012,"end_year":2020,"body_types":["crossover"],"notes_marketing_names":["Kuga II / Escape"]},
            {"code":"Kuga III","start_year":2020,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Kuga III"]},
        ]),
    ]
)

### Opel
add_make(
    "opel","Opel","Опель","Germany","mass",
    [
        model_template("astra","Astra","Astra",["hatchback","sedan","wagon"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["manual","automatic","cvt","dct"],1995,[
            {"code":"F","start_year":1991,"end_year":1998,"body_types":["hatchback","sedan","wagon"],"notes_marketing_names":["Astra F"]},
            {"code":"G","start_year":1998,"end_year":2004,"body_types":["hatchback","sedan","wagon"],"notes_marketing_names":["Astra G"]},
            {"code":"H","start_year":2004,"end_year":2009,"body_types":["hatchback","sedan","wagon","convertible"],"notes_marketing_names":["Astra H"]},
            {"code":"J","start_year":2009,"end_year":2015,"body_types":["hatchback","sedan","wagon","coupe"],"notes_marketing_names":["Astra J"]},
            {"code":"K","start_year":2015,"end_year":2021,"body_types":["hatchback","sedan","wagon"],"notes_marketing_names":["Astra K"]},
            {"code":"L","start_year":2021,"end_year":None,"body_types":["hatchback","wagon"],"notes_marketing_names":["Astra L"]},
        ]),
        model_template("corsa","Corsa","Corsa",["hatchback"],
                       ["gasoline","diesel","electric"],
                       ["manual","automatic"],2000,[
            {"code":"C","start_year":2000,"end_year":2006,"body_types":["hatchback"],"notes_marketing_names":["Corsa C"]},
            {"code":"D","start_year":2006,"end_year":2014,"body_types":["hatchback"],"notes_marketing_names":["Corsa D"]},
            {"code":"E","start_year":2014,"end_year":2019,"body_types":["hatchback"],"notes_marketing_names":["Corsa E"]},
            {"code":"F","start_year":2019,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["Corsa F / Corsa-e"]},
        ]),
        model_template("insignia","Insignia","Insignia",["sedan","wagon","liftback"],
                       ["gasoline","diesel","hybrid"],
                       ["manual","automatic","dct"],2008,[
            {"code":"Insignia A","start_year":2008,"end_year":2017,"body_types":["liftback","sedan","wagon"],"notes_marketing_names":["Insignia A"]},
            {"code":"Insignia B","start_year":2017,"end_year":None,"body_types":["liftback","wagon"],"notes_marketing_names":["Insignia B / Grand Sport / Sports Tourer"]},
        ]),
    ]
)

### Volvo
add_make(
    "volvo","Volvo","Вольво","Sweden","premium",
    [
        model_template("s60","S60","S60",["sedan"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic","manual"],2000,[
            {"code":"P2","start_year":2000,"end_year":2009,"body_types":["sedan"],"notes_marketing_names":["S60 I"]},
            {"code":"Y20","start_year":2010,"end_year":2018,"body_types":["sedan"],"notes_marketing_names":["S60 II"]},
            {"code":"SPA","start_year":2018,"end_year":None,"body_types":["sedan"],"notes_marketing_names":["S60 III / Recharge"]},
        ]),
        model_template("xc60","XC60","XC60",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic"],2008,[
            {"code":"P3","start_year":2008,"end_year":2017,"body_types":["crossover"],"notes_marketing_names":["XC60 I"]},
            {"code":"SPA","start_year":2017,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["XC60 II / Recharge"]},
        ]),
        model_template("xc90","XC90","XC90",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic"],2002,[
            {"code":"P2","start_year":2002,"end_year":2014,"body_types":["crossover"],"notes_marketing_names":["XC90 I"]},
            {"code":"SPA","start_year":2014,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["XC90 II / Recharge"]},
        ]),
    ]
)

### Mini
add_make(
    "mini","Mini","Мини","UK","premium",
    [
        model_template("hatch","Hatch","Мини Хэтч",["hatchback","convertible"],
                       ["gasoline","diesel","electric"],
                       ["manual","automatic","dct"],2001,[
            {"code":"R50/R53","start_year":2001,"end_year":2006,"body_types":["hatchback","convertible"],"notes_marketing_names":["Mini Hatch (R50/R53)"]},
            {"code":"R56","start_year":2006,"end_year":2014,"body_types":["hatchback","convertible"],"notes_marketing_names":["Mini Hatch (R56)"]},
            {"code":"F55/F56","start_year":2014,"end_year":None,"body_types":["hatchback","convertible"],"notes_marketing_names":["Mini Hatch (F56)","Mini Cooper SE"]},
        ]),
        model_template("countryman","Countryman","Кантримен",["crossover"],
                       ["gasoline","diesel","plug-in hybrid"],
                       ["automatic","manual","dct"],2010,[
            {"code":"R60","start_year":2010,"end_year":2016,"body_types":["crossover"],"notes_marketing_names":["Countryman R60"]},
            {"code":"F60","start_year":2016,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Countryman F60 / SE All4"]},
        ]),
    ]
)

### Land Rover
add_make(
    "land-rover","Land Rover","Ленд Ровер","UK","premium",
    [
        model_template("discovery-sport","Discovery Sport","Discovery Sport",["crossover"],
                       ["gasoline","diesel","mild hybrid","plug-in hybrid"],
                       ["automatic"],2014,[
            {"code":"L550","start_year":2014,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Discovery Sport"]},
        ]),
        model_template("defender","Defender","Defender",["crossover"],
                       ["gasoline","diesel","mild hybrid","plug-in hybrid"],
                       ["automatic","manual"],1995,[
            {"code":"Defender (old)","start_year":1983,"end_year":2016,"body_types":["crossover"],"notes_marketing_names":["Defender 90/110"]},
            {"code":"L663","start_year":2020,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Defender (new)"]},
        ]),
    ]
)

### Range Rover
add_make(
    "range-rover","Range Rover","Рейндж Ровер","UK","premium",
    [
        model_template("range-rover","Range Rover","Рейндж Ровер",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic"],1995,[
            {"code":"P38A","start_year":1994,"end_year":2002,"body_types":["crossover"],"notes_marketing_names":["Range Rover (P38A)"]},
            {"code":"L322","start_year":2002,"end_year":2012,"body_types":["crossover"],"notes_marketing_names":["Range Rover (L322)"]},
            {"code":"L405","start_year":2012,"end_year":2021,"body_types":["crossover"],"notes_marketing_names":["Range Rover (L405)"]},
            {"code":"L460","start_year":2021,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Range Rover (L460)"]},
        ]),
        model_template("range-rover-sport","Range Rover Sport","Рейндж Ровер Спорт",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic"],2005,[
            {"code":"L320","start_year":2005,"end_year":2013,"body_types":["crossover"],"notes_marketing_names":["Range Rover Sport (L320)"]},
            {"code":"L494","start_year":2013,"end_year":2022,"body_types":["crossover"],"notes_marketing_names":["Range Rover Sport (L494)"]},
            {"code":"L461","start_year":2022,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Range Rover Sport (L461)"]},
        ]),
        model_template("range-rover-evoque","Range Rover Evoque","Рейндж Ровер Эвок",["crossover","convertible"],
                       ["gasoline","diesel","mild hybrid","plug-in hybrid"],
                       ["automatic"],2011,[
            {"code":"L538","start_year":2011,"end_year":2018,"body_types":["crossover","convertible"],"notes_marketing_names":["Range Rover Evoque I"]},
            {"code":"L551","start_year":2018,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Range Rover Evoque II"]},
        ]),
    ]
)

### Jaguar
add_make(
    "jaguar","Jaguar","Ягуар","UK","premium",
    [
        model_template("xe","XE","XE",["sedan"],
                       ["gasoline","diesel","mild hybrid"],
                       ["automatic"],2015,[
            {"code":"X760","start_year":2015,"end_year":None,"body_types":["sedan"],"notes_marketing_names":["XE"]},
        ]),
        model_template("xf","XF","XF",["sedan","wagon"],
                       ["gasoline","diesel","mild hybrid"],
                       ["automatic"],2007,[
            {"code":"X250","start_year":2007,"end_year":2015,"body_types":["sedan","wagon"],"notes_marketing_names":["XF I"]},
            {"code":"X260","start_year":2015,"end_year":None,"body_types":["sedan","wagon"],"notes_marketing_names":["XF II / Sportbrake"]},
        ]),
        model_template("f-pace","F-Pace","F-Pace",["crossover"],
                       ["gasoline","diesel","mild hybrid","plug-in hybrid"],
                       ["automatic"],2016,[
            {"code":"X761","start_year":2016,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["F-Pace"]},
        ]),
        model_template("i-pace","I-Pace","I-Pace",["crossover"],
                       ["electric"],
                       ["automatic"],2018,[
            {"code":"X590","start_year":2018,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["I-Pace EV"]},
        ]),
    ]
)

### Nissan
add_make(
    "nissan","Nissan","Ниссан","Japan","mass",
    [
        model_template("qashqai","Qashqai","Кашкай",["crossover"],
                       ["gasoline","diesel","hybrid","mild hybrid"],
                       ["manual","automatic","cvt","dct"],2006,[
            {"code":"J10","start_year":2006,"end_year":2013,"body_types":["crossover"],"notes_marketing_names":["Qashqai / Dualis"]},
            {"code":"J11","start_year":2013,"end_year":2021,"body_types":["crossover"],"notes_marketing_names":["Qashqai II"]},
            {"code":"J12","start_year":2021,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Qashqai III / e-Power"]},
        ]),
        model_template("x-trail","X-Trail","Икс-Трейл",["crossover"],
                       ["gasoline","diesel","hybrid"],
                       ["manual","automatic","cvt"],2001,[
            {"code":"T30","start_year":2001,"end_year":2007,"body_types":["crossover"],"notes_marketing_names":["X-Trail I"]},
            {"code":"T31","start_year":2007,"end_year":2013,"body_types":["crossover"],"notes_marketing_names":["X-Trail II"]},
            {"code":"T32","start_year":2013,"end_year":2022,"body_types":["crossover"],"notes_marketing_names":["X-Trail III / Rogue"]},
            {"code":"T33","start_year":2022,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["X-Trail IV / e-Power"]},
        ]),
        model_template("leaf","Leaf","Leaf",["hatchback"],
                       ["electric"],
                       ["automatic"],2010,[
            {"code":"ZE0","start_year":2010,"end_year":2017,"body_types":["hatchback"],"notes_marketing_names":["Leaf (1st gen)"]},
            {"code":"ZE1","start_year":2017,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["Leaf (2nd gen)"]},
        ]),
    ]
)

### Honda
add_make(
    "honda","Honda","Хонда","Japan","mass",
    [
        model_template("civic","Civic","Civic",["hatchback","sedan"],
                       ["gasoline","diesel","hybrid"],
                       ["manual","automatic","cvt"],1995,[
            {"code":"EK","start_year":1995,"end_year":2000,"body_types":["hatchback","sedan"],"notes_marketing_names":["Civic EK"]},
            {"code":"EP/ES","start_year":2000,"end_year":2005,"body_types":["hatchback","sedan"],"notes_marketing_names":["Civic EP/ES"]},
            {"code":"FN/FD","start_year":2005,"end_year":2011,"body_types":["hatchback","sedan"],"notes_marketing_names":["Civic VIII"]},
            {"code":"FB/FG","start_year":2011,"end_year":2016,"body_types":["hatchback","sedan"],"notes_marketing_names":["Civic IX"]},
            {"code":"FC/FK","start_year":2016,"end_year":2021,"body_types":["hatchback","sedan"],"notes_marketing_names":["Civic X"]},
            {"code":"FL","start_year":2021,"end_year":None,"body_types":["hatchback","sedan"],"notes_marketing_names":["Civic XI"]},
        ]),
        model_template("cr-v","CR-V","CR-V",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic","cvt"],1996,[
            {"code":"RD","start_year":1996,"end_year":2001,"body_types":["crossover"],"notes_marketing_names":["CR-V I"]},
            {"code":"RD4/RD5","start_year":2001,"end_year":2006,"body_types":["crossover"],"notes_marketing_names":["CR-V II"]},
            {"code":"RE","start_year":2006,"end_year":2011,"body_types":["crossover"],"notes_marketing_names":["CR-V III"]},
            {"code":"RM","start_year":2011,"end_year":2016,"body_types":["crossover"],"notes_marketing_names":["CR-V IV"]},
            {"code":"RW/RT","start_year":2016,"end_year":2022,"body_types":["crossover"],"notes_marketing_names":["CR-V V"]},
            {"code":"RS","start_year":2022,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["CR-V VI"]},
        ]),
    ]
)

### Mazda
add_make(
    "mazda","Mazda","Мазда","Japan","mass",
    [
        model_template("mazda3","Mazda3","Мазда3",["hatchback","sedan"],
                       ["gasoline","diesel","hybrid"],
                       ["manual","automatic"],2003,[
            {"code":"BK","start_year":2003,"end_year":2009,"body_types":["hatchback","sedan"],"notes_marketing_names":["Mazda3 BK"]},
            {"code":"BL","start_year":2009,"end_year":2013,"body_types":["hatchback","sedan"],"notes_marketing_names":["Mazda3 BL"]},
            {"code":"BM/BN","start_year":2013,"end_year":2019,"body_types":["hatchback","sedan"],"notes_marketing_names":["Mazda3 BM/BN"]},
            {"code":"BP","start_year":2019,"end_year":None,"body_types":["hatchback","sedan"],"notes_marketing_names":["Mazda3 BP"]},
        ]),
        model_template("cx-5","CX-5","CX-5",["crossover"],
                       ["gasoline","diesel","mild hybrid"],
                       ["automatic","manual"],2012,[
            {"code":"KE","start_year":2012,"end_year":2017,"body_types":["crossover"],"notes_marketing_names":["CX-5 I"]},
            {"code":"KF","start_year":2017,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["CX-5 II"]},
        ]),
    ]
)

### Subaru
add_make(
    "subaru","Subaru","Субару","Japan","mass",
    [
        model_template("outback","Outback","Аутбек",["wagon","crossover"],
                       ["gasoline","diesel"],
                       ["manual","automatic","cvt"],1995,[
            {"code":"Legacy Outback Gen2","start_year":1995,"end_year":1999,"body_types":["wagon"],"notes_marketing_names":["Outback early"]},
            {"code":"BP/BL","start_year":2003,"end_year":2009,"body_types":["wagon","crossover"],"notes_marketing_names":["Outback BP/BL"]},
            {"code":"BR","start_year":2009,"end_year":2014,"body_types":["wagon","crossover"],"notes_marketing_names":["Outback BR"]},
            {"code":"BS","start_year":2014,"end_year":2020,"body_types":["wagon","crossover"],"notes_marketing_names":["Outback BS"]},
            {"code":"BT","start_year":2020,"end_year":None,"body_types":["wagon","crossover"],"notes_marketing_names":["Outback BT"]},
        ]),
        model_template("forester","Forester","Форестер",["crossover"],
                       ["gasoline","diesel","hybrid"],
                       ["manual","automatic","cvt"],1997,[
            {"code":"SF","start_year":1997,"end_year":2002,"body_types":["crossover"],"notes_marketing_names":["Forester SF"]},
            {"code":"SG","start_year":2002,"end_year":2008,"body_types":["crossover"],"notes_marketing_names":["Forester SG"]},
            {"code":"SH","start_year":2008,"end_year":2013,"body_types":["crossover"],"notes_marketing_names":["Forester SH"]},
            {"code":"SJ","start_year":2013,"end_year":2018,"body_types":["crossover"],"notes_marketing_names":["Forester SJ"]},
            {"code":"SK","start_year":2018,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Forester SK e-Boxer"]},
        ]),
    ]
)

### Mitsubishi
add_make(
    "mitsubishi","Mitsubishi","Мицубиси","Japan","mass",
    [
        model_template("lancer","Lancer","Лансер",["sedan","hatchback","wagon"],
                       ["gasoline","diesel"],
                       ["manual","automatic","cvt"],1995,[
            {"code":"Lancer VII","start_year":1995,"end_year":2000,"body_types":["sedan","wagon"],"notes_marketing_names":["Lancer VII"]},
            {"code":"Lancer VIII","start_year":2000,"end_year":2007,"body_types":["sedan","wagon","hatchback"],"notes_marketing_names":["Lancer VIII / Cedia"]},
            {"code":"Lancer X","start_year":2007,"end_year":2017,"body_types":["sedan","hatchback"],"notes_marketing_names":["Lancer X / Galant Fortis"]},
        ]),
        model_template("outlander","Outlander","Аутлендер",["crossover"],
                       ["gasoline","diesel","plug-in hybrid","hybrid"],
                       ["manual","automatic","cvt"],2001,[
            {"code":"CU","start_year":2001,"end_year":2006,"body_types":["crossover"],"notes_marketing_names":["Outlander I"]},
            {"code":"CW","start_year":2006,"end_year":2012,"body_types":["crossover"],"notes_marketing_names":["Outlander II"]},
            {"code":"GF/GG","start_year":2012,"end_year":2021,"body_types":["crossover"],"notes_marketing_names":["Outlander III / PHEV"]},
            {"code":"GN","start_year":2021,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Outlander IV"]},
        ]),
    ]
)

### Suzuki
add_make(
    "suzuki","Suzuki","Сузуки","Japan","mass",
    [
        model_template("vitara","Vitara","Витара",["crossover"],
                       ["gasoline","diesel","mild hybrid"],
                       ["manual","automatic","cvt"],1995,[
            {"code":"Vitara/Grand Vitara I","start_year":1988,"end_year":1998,"body_types":["crossover"],"notes_marketing_names":["Vitara / Grand Vitara"]},
            {"code":"Grand Vitara II","start_year":1998,"end_year":2005,"body_types":["crossover"],"notes_marketing_names":["Grand Vitara II"]},
            {"code":"Grand Vitara III","start_year":2005,"end_year":2015,"body_types":["crossover"],"notes_marketing_names":["Grand Vitara III"]},
            {"code":"Vitara LY","start_year":2015,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Vitara (LY)"]},
        ]),
        model_template("swift","Swift","Свифт",["hatchback"],
                       ["gasoline","diesel","mild hybrid"],
                       ["manual","automatic","cvt"],2004,[
            {"code":"Swift IV","start_year":2004,"end_year":2010,"body_types":["hatchback"],"notes_marketing_names":["Swift IV"]},
            {"code":"Swift V","start_year":2010,"end_year":2017,"body_types":["hatchback"],"notes_marketing_names":["Swift V"]},
            {"code":"Swift VI","start_year":2017,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["Swift VI / Hybrid"]},
        ]),
    ]
)

### Lexus
add_make(
    "lexus","Lexus","Лексус","Japan","premium",
    [
        model_template("rx","RX","RX",["crossover"],
                       ["gasoline","hybrid","plug-in hybrid"],
                       ["automatic","cvt"],1998,[
            {"code":"XU10","start_year":1998,"end_year":2003,"body_types":["crossover"],"notes_marketing_names":["RX 300 (XU10)"]},
            {"code":"XU30","start_year":2003,"end_year":2008,"body_types":["crossover"],"notes_marketing_names":["RX 330/350 (XU30)"]},
            {"code":"AL10","start_year":2008,"end_year":2015,"body_types":["crossover"],"notes_marketing_names":["RX 350 / 450h (AL10)"]},
            {"code":"AL20","start_year":2015,"end_year":2022,"body_types":["crossover"],"notes_marketing_names":["RX (AL20)"]},
            {"code":"AL30","start_year":2022,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["RX (AL30) / RX 500h"]},
        ]),
        model_template("es","ES","ES",["sedan"],
                       ["gasoline","hybrid"],
                       ["automatic","cvt"],1996,[
            {"code":"XV20","start_year":1996,"end_year":2001,"body_types":["sedan"],"notes_marketing_names":["ES 300 (XV20)"]},
            {"code":"XV30","start_year":2001,"end_year":2006,"body_types":["sedan"],"notes_marketing_names":["ES 330 (XV30)"]},
            {"code":"XV40","start_year":2006,"end_year":2012,"body_types":["sedan"],"notes_marketing_names":["ES 350 (XV40)"]},
            {"code":"XV60","start_year":2012,"end_year":2018,"body_types":["sedan"],"notes_marketing_names":["ES 350 / 300h (XV60)"]},
            {"code":"XV70","start_year":2018,"end_year":None,"body_types":["sedan"],"notes_marketing_names":["ES 250 / 300h (XV70)"]},
        ]),
    ]
)

### Infiniti
add_make(
    "infiniti","Infiniti","Инфинити","Japan","premium",
    [
        model_template("q50","Q50","Q50",["sedan"],
                       ["gasoline","hybrid"],
                       ["automatic"],2013,[
            {"code":"V37","start_year":2013,"end_year":None,"body_types":["sedan"],"notes_marketing_names":["Q50"]},
        ]),
        model_template("qx50","QX50","QX50",["crossover"],
                       ["gasoline","hybrid"],
                       ["automatic","cvt"],2007,[
            {"code":"J50/EX","start_year":2007,"end_year":2017,"body_types":["crossover"],"notes_marketing_names":["EX / QX50 (J50)"]},
            {"code":"J55","start_year":2017,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["QX50 (J55) VC-Turbo"]},
        ]),
    ]
)

### Porsche
add_make(
    "porsche","Porsche","Порше","Germany","premium",
    [
        model_template("911","911","911",["coupe","convertible"],
                       ["gasoline","hybrid"],
                       ["automatic","manual","dct"],1995,[
            {"code":"993","start_year":1994,"end_year":1998,"body_types":["coupe","convertible"],"notes_marketing_names":["911 (993)"]},
            {"code":"996","start_year":1998,"end_year":2004,"body_types":["coupe","convertible"],"notes_marketing_names":["911 (996)"]},
            {"code":"997","start_year":2004,"end_year":2012,"body_types":["coupe","convertible"],"notes_marketing_names":["911 (997)"]},
            {"code":"991","start_year":2011,"end_year":2019,"body_types":["coupe","convertible"],"notes_marketing_names":["911 (991)"]},
            {"code":"992","start_year":2019,"end_year":None,"body_types":["coupe","convertible"],"notes_marketing_names":["911 (992)"]},
        ]),
        model_template("cayenne","Cayenne","Кайенн",["crossover","coupe"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic","tiptronic"],2002,[
            {"code":"955/957","start_year":2002,"end_year":2010,"body_types":["crossover"],"notes_marketing_names":["Cayenne I"]},
            {"code":"958","start_year":2010,"end_year":2017,"body_types":["crossover"],"notes_marketing_names":["Cayenne II"]},
            {"code":"9YA/9YB","start_year":2017,"end_year":None,"body_types":["crossover","coupe"],"notes_marketing_names":["Cayenne III"]},
        ]),
        model_template("macan","Macan","Макан",["crossover"],
                       ["gasoline","diesel","mild hybrid","electric"],
                       ["automatic","dct"],2014,[
            {"code":"95B","start_year":2014,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Macan"]},
        ]),
    ]
)

### Alfa Romeo
add_make(
    "alfa-romeo","Alfa Romeo","Альфа Ромео","Italy","premium",
    [
        model_template("giulia","Giulia","Джулия",["sedan"],
                       ["gasoline","diesel"],
                       ["manual","automatic"],2015,[
            {"code":"952","start_year":2015,"end_year":None,"body_types":["sedan"],"notes_marketing_names":["Giulia (952)"]},
        ]),
        model_template("stelvio","Stelvio","Стельвио",["crossover"],
                       ["gasoline","diesel","mild hybrid"],
                       ["automatic"],2016,[
            {"code":"949","start_year":2016,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Stelvio (949)"]},
        ]),
    ]
)

### Maserati
add_make(
    "maserati","Maserati","Мазерати","Italy","premium",
    [
        model_template("ghibli","Ghibli","Гибли",["sedan"],
                       ["gasoline","diesel","hybrid"],
                       ["automatic"],2013,[
            {"code":"M157","start_year":2013,"end_year":None,"body_types":["sedan"],"notes_marketing_names":["Ghibli (M157)"]},
        ]),
        model_template("levante","Levante","Леванте",["crossover"],
                       ["gasoline","diesel","mild hybrid"],
                       ["automatic"],2016,[
            {"code":"M161","start_year":2016,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Levante (M161)"]},
        ]),
    ]
)

### Ferrari
add_make(
    "ferrari","Ferrari","Феррари","Italy","premium",
    [
        model_template("458-488-f8","458 / 488 / F8","458 / 488 / F8",["coupe","convertible"],
                       ["gasoline","hybrid"],
                       ["automatic","dct"],2009,[
            {"code":"458 Italia","start_year":2009,"end_year":2015,"body_types":["coupe","convertible"],"notes_marketing_names":["458 Italia / Spider"]},
            {"code":"488","start_year":2015,"end_year":2020,"body_types":["coupe","convertible"],"notes_marketing_names":["488 GTB / Spider"]},
            {"code":"F8","start_year":2020,"end_year":None,"body_types":["coupe","convertible"],"notes_marketing_names":["F8 Tributo / Spider"]},
        ]),
        model_template("roma","Roma","Roma",["coupe","convertible"],
                       ["gasoline","mild hybrid"],
                       ["automatic","dct"],2020,[
            {"code":"Roma","start_year":2020,"end_year":None,"body_types":["coupe","convertible"],"notes_marketing_names":["Roma"]},
        ]),
    ]
)

### Lamborghini
add_make(
    "lamborghini","Lamborghini","Ламборгини","Italy","premium",
    [
        model_template("gallardo-huracan","Gallardo / Huracán","Галлардо / Хуракан",["coupe","convertible"],
                       ["gasoline"],
                       ["automatic","manual","dct"],2003,[
            {"code":"Gallardo","start_year":2003,"end_year":2013,"body_types":["coupe","convertible"],"notes_marketing_names":["Gallardo"]},
            {"code":"Huracán","start_year":2014,"end_year":None,"body_types":["coupe","convertible"],"notes_marketing_names":["Huracán"]},
        ]),
        model_template("urus","Urus","Урус",["crossover"],
                       ["gasoline","plug-in hybrid"],
                       ["automatic"],2018,[
            {"code":"Urus","start_year":2018,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Urus"]},
        ]),
    ]
)

### Geely
add_make(
    "geely","Geely","Джили","China","mass",
    [
        model_template("coolray","Coolray","Coolray",["crossover"],
                       ["gasoline","mild hybrid","plug-in hybrid"],
                       ["automatic","dct"],2018,[
            {"code":"SX11","start_year":2018,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Coolray / Binyue"]},
        ]),
        model_template("tugella","Tugella","Tugella",["crossover","coupe"],
                       ["gasoline","mild hybrid"],
                       ["automatic","dct"],2019,[
            {"code":"FY11","start_year":2019,"end_year":None,"body_types":["crossover","coupe"],"notes_marketing_names":["Tugella / Xingyue"]},
        ]),
    ]
)

### Haval
add_make(
    "haval","Haval","Хавал","China","mass",
    [
        model_template("f7","F7","F7",["crossover","coupe"],
                       ["gasoline","mild hybrid"],
                       ["automatic","dct"],2018,[
            {"code":"F7/F7x","start_year":2018,"end_year":None,"body_types":["crossover","coupe"],"notes_marketing_names":["F7 / F7x"]},
        ]),
        model_template("h6","H6","H6",["crossover"],
                       ["gasoline","diesel","hybrid","plug-in hybrid"],
                       ["automatic","dct"],2011,[
            {"code":"H6 I","start_year":2011,"end_year":2017,"body_types":["crossover"],"notes_marketing_names":["H6 I"]},
            {"code":"H6 II","start_year":2017,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["H6 II / H6 HEV"]},
        ]),
    ]
)

### MG
add_make(
    "mg","MG","MG","China","mass",
    [
        model_template("zs","ZS","ZS",["crossover"],
                       ["gasoline","electric"],
                       ["manual","automatic"],2017,[
            {"code":"ZS","start_year":2017,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["ZS / ZS EV"]},
        ]),
        model_template("mg4","MG4","MG4",["hatchback"],
                       ["electric"],
                       ["automatic"],2022,[
            {"code":"MG4 EV","start_year":2022,"end_year":None,"body_types":["hatchback"],"notes_marketing_names":["MG4 Electric"]},
        ]),
    ]
)

### NIO
add_make(
    "nio","NIO","NIO","China","premium",
    [
        model_template("et5","ET5","ET5",["sedan"],
                       ["electric"],
                       ["automatic"],2022,[
            {"code":"ET5","start_year":2022,"end_year":None,"body_types":["sedan"],"notes_marketing_names":["ET5"]},
        ]),
        model_template("es8","ES8","ES8",["crossover"],
                       ["electric"],
                       ["automatic"],2018,[
            {"code":"ES8 I","start_year":2018,"end_year":2022,"body_types":["crossover"],"notes_marketing_names":["ES8 I"]},
            {"code":"ES8 II","start_year":2022,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["ES8 II"]},
        ]),
    ]
)

### XPeng
add_make(
    "xpeng","XPeng","XPeng","China","premium",
    [
        model_template("p7","P7","P7",["sedan","hatchback"],
                       ["electric"],
                       ["automatic"],2020,[
            {"code":"P7","start_year":2020,"end_year":None,"body_types":["sedan","hatchback"],"notes_marketing_names":["P7"]},
        ]),
        model_template("g9","G9","G9",["crossover"],
                       ["electric"],
                       ["automatic"],2022,[
            {"code":"G9","start_year":2022,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["G9"]},
        ]),
    ]
)

### Zeekr
add_make(
    "zeekr","Zeekr","Zeekr","China","premium",
    [
        model_template("001","001","001",["shooting brake","wagon","hatchback"],
                       ["electric"],
                       ["automatic"],2021,[
            {"code":"001","start_year":2021,"end_year":None,"body_types":["shooting brake","wagon","hatchback"],"notes_marketing_names":["Zeekr 001"]},
        ]),
        model_template("x","X","X",["crossover"],
                       ["electric"],
                       ["automatic"],2023,[
            {"code":"X","start_year":2023,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Zeekr X"]},
        ]),
    ]
)

### Polestar
add_make(
    "polestar","Polestar","Polestar","Sweden","premium",
    [
        model_template("polestar-2","Polestar 2","Polestar 2",["hatchback","liftback","sedan"],
                       ["electric"],
                       ["automatic"],2020,[
            {"code":"Polestar 2","start_year":2020,"end_year":None,"body_types":["hatchback","liftback","sedan"],"notes_marketing_names":["Polestar 2"]},
        ]),
        model_template("polestar-3","Polestar 3","Polestar 3",["crossover"],
                       ["electric"],
                       ["automatic"],2023,[
            {"code":"Polestar 3","start_year":2023,"end_year":None,"body_types":["crossover"],"notes_marketing_names":["Polestar 3"]},
        ]),
    ]
)

# Update data
data["makes"].extend(new_makes)

with open(file_path, "w", encoding="utf-8") as f:
    json.dump(data, f, ensure_ascii=False, separators=(",",":"), sort_keys=False)

num_makes_total = len(data["makes"])
size_kb = round(os.path.getsize(file_path)/1024,2)

{"num_makes_total": num_makes_total, "size_kb": size_kb, "skipped_brands": []}
