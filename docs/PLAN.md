# –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ LyVoX

## 1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- –ß—Ç–æ —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ ‚úÖ: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–∞ Next.js 16 —Å –∫–∞—Ç–∞–ª–æ–∂–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –∏ –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏–π, –∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ –≤ Supabase Storage, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å Trust Score –∏ SMS-–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–µ–π —Ç–µ–ª–µ—Ñ–æ–Ω–∞, —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ rate limit'—ã –Ω–∞ OTP –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—é ([REQ:Core], [REQ:Security]).
- –ß—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ ‚öôÔ∏è: –Ω–∞–≤–µ–¥–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –≤ RLS-–ø–æ–ª–∏—Ç–∏–∫–∞—Ö, –ø–µ—Ä–µ–≤–æ–¥ –∞–¥–º–∏–Ω-–¥–æ—Å—Ç—É–ø–∞ –Ω–∞ JWT-—Ä–æ–ª–∏, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä ([REQ:Security], [TODO #1], [TODO #2]).
- –ß—Ç–æ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ üîú: —Ä–∞—Å–∫–ª–∞–¥–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π –ë–î, –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ Itsme/KBO, –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ –∏ —É—Å–∏–ª–µ–Ω–∏–µ WAF/Zero Trust ([REQ:Roadmap], [TODO #4]-[TODO #6]).
- –ö–ª—é—á–µ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏: Next.js 16 (React 19.2, TypeScript 5.9), Supabase Postgres + Storage + Auth, TailwindCSS 4, shadcn/ui, Twilio, Cloudflare, Vercel, Upstash Redis –¥–ª—è rate limiting ([REQ:Stack]).

## 2. –≠—Ç–∞–ø—ã (–¥–æ—Ä–æ–∂–Ω–∞—è –∫–∞—Ä—Ç–∞)
### M1 ‚Äî –ë–∞–∑–æ–≤—ã–π –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å (MVP)
**–¶–µ–ª—å:** –î–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ –ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Å –±–∞–∑–æ–≤–æ–π –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π.
**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- Frontend: –∫–∞—Ç–∞–ª–æ–∂–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∫–∞—Ä—Ç–æ—á–∫–∞ –æ–±—ä—è–≤–ª–µ–Ω–∏—è, –ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å.
- Backend: CRUD –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏–π –∏ –∂–∞–ª–æ–±, –æ–±–º–µ–Ω —Å–µ–∞–Ω—Å–∞–º–∏ Supabase.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: —Ç–∞–±–ª–∏—Ü—ã `adverts`, `media`, `categories`, `reports`, `trust_score`.
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –¥–µ–ø–ª–æ–π –Ω–∞ Vercel, –ø–æ–¥–∫–ª—é—á—ë–Ω–Ω—ã–π Supabase-–ø—Ä–æ–µ–∫—Ç.
- AI –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Supabase, –∂—É—Ä–Ω–∞–ª—ã –¥–µ–π—Å—Ç–≤–∏–π.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –Ω–µ—Ç.
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1.
**–°—Ç–∞—Ç—É—Å:** ‚úÖ.
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ (Acceptance Criteria):** –∫–∞—Ç–∞–ª–æ–≥ –¥–æ—Å—Ç—É–ø–µ–Ω –ø—É–±–ª–∏—á–Ω–æ, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞—ë—Ç/—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ, –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –≤–∏–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –∂–∞–ª–æ–±.

### M2 ‚Äî –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø—ã
**–¶–µ–ª—å:** –ó–∞—Å—Ç–∞–≤–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥ RLS –∏ —É–±—Ä–∞—Ç—å –∞–¥–º–∏–Ω-—á–µ–∫ –ø–æ email.
**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- Frontend: —Å–∫—Ä—ã—Ç–∏–µ –∞–¥–º–∏–Ω-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –±–µ–∑ JWT-—Ä–æ–ª–∏.
- Backend: –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–æ–ª–µ–π –≤ middleware –∏ API, –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –≤–∫–ª—é—á–∏—Ç—å RLS –∏ –ø–æ–ª–∏—Ç–∏–∫–∏ –Ω–∞ `adverts`, `media`, `profiles`, `phones`, `phone_otps`, `logs`.
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –æ—Ñ–æ—Ä–º–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ.
- AI –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–æ—Å—Ç—É–ø–æ–≤.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: –∞—É–¥–∏—Ç –ª–æ–≥–æ–≤, —á–µ–∫-–ª–∏—Å—Ç –¥–æ—Å—Ç—É–ø–∞.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –∑–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–π M1.
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1.
**–°—Ç–∞—Ç—É—Å:** ‚öôÔ∏è.
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** –≤—Å–µ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã –∑–∞—â–∏—â–µ–Ω—ã RLS, —Ä–æ–ª–∏ —Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –∏–∑ JWT, UI/ API —É—á–∏—Ç—ã–≤–∞—é—Ç —Ä–æ–ª—å, –ª–æ–≥ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∞–¥–º–∏–Ω-–æ–ø–µ—Ä–∞—Ü–∏–∏ ([TODO #1], [TODO #2]).

**–ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ –∑–∞–¥–∞—á–∏ (M2 Backlog):**
1. [DONE 2025-10-06] Supabase migrations 20251004120000-20251004122000 create `reports` and `trust_score`; legacy policies consolidated in 20251005191500_enable_rls_and_policies.sql.
2. –ü–µ—Ä–µ–ø–∏—Å–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ guard'—ã (middleware, `/api/reports/*`, server actions) –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É `user.app_metadata.role = 'admin'` –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `supabaseService()` —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ä–æ–ª–∏.
3. –û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (`UserMenu`, —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/admin/**`) —á—Ç–æ–±—ã –ø–æ–ª—É—á–∞—Ç—å —Ä–æ–ª—å —á–µ—Ä–µ–∑ `/api/me`, —Å–∫—Ä—ã–≤–∞—Ç—å –∞–¥–º–∏–Ω-–Ω–∞–≤–∏–≥–∞—Ü–∏—é –¥–ª—è –Ω–µ-–∞–¥–º–∏–Ω–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å 403.
4. [DONE 2025-10-06] Documentation (requirements, API_REFERENCE, TODO) refreshed to reflect RLS, consent flow, and cron duties.
5. –ü—Ä–æ–≤–µ—Å—Ç–∏ QA: –ø—Ä–æ–≤–µ—Ä–∏—Ç—å RLS –æ—Ç –ª–∏—Ü–∞ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∞–¥–º–∏–Ω–∞, —É–±–µ–¥–∏—Ç—å—Å—è –≤ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–±—ã—Ç–∏–π –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –≤ `logs` –∏ –∑–∞–ø—Ä–µ—Ç–µ –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ API –±–µ–∑ —Ä–æ–ª–∏.
6. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏: —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ API-—Ç–µ—Å—Ç—ã –∏ CI —à–∞–≥–∏, –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–µ –Ω–æ–≤—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–æ–ª–∏.


### M3 ‚Äî –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ –ª–∏–º–∏—Ç—ã
**–¶–µ–ª—å:** –ó–∞—â–∏—Ç–∏—Ç—å OTP –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –æ—Ç –∑–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–π.
**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- Frontend: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ rate limiting –∏ –ø–æ–¥—Å–∫–∞–∑–æ–∫ –ø–æ–≤—Ç–æ—Ä–∞.
- Backend: middleware –¥–ª—è `/api/phone/*` –∏ `/api/reports/*`, –º–µ—Ç—Ä–∏–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–æ–≤/–º–µ—Ç—Ä–∏–∫ (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) –∏ –∞—É–¥–∏—Ç –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Upstash Redis, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞–º–∏.
- AI –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –±–∞–∑–æ–≤—ã–π –∞–Ω–∞–ª–∏–∑ –∞–Ω–æ–º–∞–ª–∏–π –æ–±—Ä–∞—â–µ–Ω–∏–π.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å –ø–æ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—é –ª–∏–º–∏—Ç–æ–≤.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** M2.
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1.
**–°—Ç–∞—Ç—É—Å:** üîú.
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** `/api/phone/*` –∏ `/api/reports/*` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç 429 –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞, –ª–æ–≥–∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏—è, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±–Ω–æ–≤–ª–µ–Ω—ã ([TODO #3]).

### Post-MVP ‚Äî –£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö
**–¶–µ–ª—å:** –°–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã –∏ —á–∏—Å—Ç–∫—É –¥–∞–Ω–Ω—ã—Ö –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–º–∏.
**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- Frontend: –∞–¥–∞–ø—Ç–∞—Ü–∏—è —Ñ–æ—Ä–º –ø–æ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ö–µ–º—ã (–ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏).
- Backend: —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è DTO —Å –Ω–æ–≤—ã–º–∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏.
- ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ: migrations 20251004120000-20251004122000 —Ñ–∏–∫—Å–∏—Ä—É—é—Ç `reports`/`trust_score`, Edge Function `maintenance-cleanup` –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç OTP –∏ –ª–æ–≥–∏.
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –∑–∞–ø—É—Å–∫ Supabase cron/Edge —Ñ—É–Ω–∫—Ü–∏–π.
- AI –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –º–∏–≥—Ä–∞—Ü–∏—è—Ö/–æ—á–∏—Å—Ç–∫–∞—Ö.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: –∫–æ–Ω—Ç—Ä–æ–ª—å —Å—Ä–æ–∫–æ–≤ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** M2.
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2.
**–°—Ç–∞—Ç—É—Å:** üîú.
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è —á–µ—Ä–µ–∑ CLI, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –æ—Ç—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞ ([TODO #4], [TODO #5]).

### Realtime-—á–∞—Ç ‚Äî –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –ø—Ä–æ–¥–∞–≤–µ—Ü/–ø–æ–∫—É–ø–∞—Ç–µ–ª—å
**–¶–µ–ª—å:** –û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–∏–∞–ª–æ–≥ –º–µ–∂–¥—É —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ —Å–¥–µ–ª–∫–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ Supabase Realtime.
**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `conversations`, `conversation_participants`, `messages` (FK –Ω–∞ `profiles`, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ `adverts`), –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –Ω–∞ `conversation_id`, `created_at`, –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å RLS –∏ —Ç—Ä–∏–≥–≥–µ—Ä—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `updated_at`.
- Backend: —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å server actions/REST –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –¥–∏–∞–ª–æ–≥–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç–º–µ—Ç–∫–∏ –ø—Ä–æ—á—Ç–µ–Ω–∏—è; –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã–π Supabase-–∫–ª–∏–µ–Ω—Ç —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫ –¥–∏–∞–ª–æ–≥—É.
- Next.js: –≤—ã–Ω–µ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π Supabase-–∫–ª–∏–µ–Ω—Ç –≤ `supabase/browserClient.ts`, SSR-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `apps/web/src/app/(protected)/chat/[conversationId]/page.tsx`) –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ä—Ç–æ–≤—ã–π –±–∞—Ç—á —Å–æ–æ–±—â–µ–Ω–∏–π, –æ—Ç–¥–µ–ª—å–Ω—ã–π `use client` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `ChatWindow.tsx` —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ `supabase.channel('conversation:${conversationId}')`.
- Realtime: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å `postgres_changes` –Ω–∞ INSERT/UPDATE `messages`, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å `channel.on('system', ...)` –¥–ª—è –æ—à–∏–±–æ–∫, –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è (`channel.unsubscribe()`) –≤ cleanup, –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ.
- –ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ UX: –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å delivery-errors –≤ Sentry, –æ—Ç–º–µ—á–∞—Ç—å –æ–Ω–ª–∞–π–Ω-—Å—Ç–∞—Ç—É—Å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –¥–æ–±–∞–≤–∏—Ç—å –æ—Ñ—Ñ–ª–∞–π–Ω-—Ä–µ–∑–µ—Ä–≤ (–ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N —Å–æ–æ–±—â–µ–Ω–∏–π).
- Notifications & Delivery: —Å–æ–±—ã—Ç–∏—è (–Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ, —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–∞), –∫–∞–Ω–∞–ª—ã (email, push —á–µ—Ä–µ–∑ OneSignal/Firebase), –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è, quiet hours.
- Retention & GDPR: –ø–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è (6 –º–µ—Å—è—Ü–µ–≤ –ø–æ—Å–ª–µ —Å–¥–µ–ª–∫–∏/–Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏), DSAR —ç–∫—Å–ø–æ—Ä—Ç –ø–µ—Ä–µ–ø–∏—Å–∫–∏, cron‚Äë–æ—á–∏—Å—Ç–∫–∞ soft‚Äëdeleted –∑–∞–ø–∏—Å–µ–π.
- Moderation: –∫–Ω–æ–ø–∫–∞ –∂–∞–ª–æ–±—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ, —Å–≤—è–∑—å —Å `reports`, –∞–≤—Ç–æ‚Äëmute –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –∂–∞–ª–æ–±.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** M2 (RLS –∏ —Ä–æ–ª–∏), M3 (rate limiting API), Post-MVP (—Å—Ç–∞–±–∏–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏).
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2.
**–°—Ç–∞—Ç—É—Å:** üÜï.
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ UI –ø–æ—è–≤–ª—è–µ—Ç—Å—è —É –≤—Ç–æ—Ä–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞ <1 —Å–µ–∫—É–Ω–¥—ã –±–µ–∑ `router.refresh()`, –∑–∞–ø–∏—Å–∏ –≤ `messages` —Å–æ–±–ª—é–¥–∞—é—Ç RLS, Supabase –ø–æ–¥–ø–∏—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (`docs/domains/**`, `docs/requirements.md`) –∏ `last_sync` –æ–±–Ω–æ–≤–ª–µ–Ω—ã.

**–ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ –∑–∞–¥–∞—á–∏ (Realtime-—á–∞—Ç Backlog):**
1. –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è `conversations`/`conversation_participants`/`messages`, –æ–±–Ω–æ–≤–∏—Ç—å —Ç–∏–ø—ã (`supabase/types/database.types.ts`), —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–æ–º–µ–Ω–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.
2. –°–æ–∑–¥–∞—Ç—å server actions –∏–ª–∏ `/api/chat/*`, –ø—Ä–æ–≤–µ—Ä—è—é—â–∏–µ —É—á–∞—Å—Ç–∏–µ –≤ –¥–∏–∞–ª–æ–≥–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `supabaseService()` —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –¥–æ–±–∞–≤–∏—Ç—å rate limiting –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É.
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ Supabase-–∫–ª–∏–µ–Ω—Ç—ã: `supabaseServer()` (SSR) –∏ `supabaseBrowser()` (client) + —Ö—É–∫ `useRealtimeMessages` —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º `unsubscribe`.
4. –°–æ–±—Ä–∞—Ç—å UI: SSR-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ + –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π `ChatWindow.tsx` (–≤–∏—Ä—Ç—É–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫, –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞, retry), –ø–æ–∫—Ä—ã—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏ —Ä–µ–Ω–¥–µ—Ä –∏ —Ä–µ–∫–æ–Ω–Ω–µ–∫—Ç.
5. –ü—Ä–æ–≤–µ—Å—Ç–∏ QA/–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ: smoke-—Ç–µ—Å—Ç Realtime –≤ preview, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫, —É–±–µ–¥–∏—Ç—å—Å—è –≤ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å `@supabase/supabase-js@2.76.x` –∏ `@supabase/ssr@0.7.x`.
6. –°–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å Notifications: –º–∞—Ç—Ä–∏—Ü–∞ —Å–æ–±—ã—Ç–∏–π/–∫–∞–Ω–∞–ª–æ–≤, —à–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º/push, –∂—É—Ä–Ω–∞–ª –¥–æ—Å—Ç–∞–≤–æ–∫.
7. –û—Ñ–æ—Ä–º–∏—Ç—å Retention: TTL/–ø–æ–ª–∏—Ç–∏–∫–∏ —É–¥–∞–ª–µ–Ω–∏—è, DSAR —ç–∫—Å–ø–æ—Ä—Ç, cron‚Äëcleanup.
8. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏: –∂–∞–ª–æ–±—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø—Ä–∞–≤–∏–ª–∞ auto‚Äëmute, —Å–≤—è–∑–∫–∞ —Å `domains/moderation.md`.

### Production ‚Äî –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –ø–µ—Ä–∏–º–µ—Ç—Ä
**–¶–µ–ª—å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Ä–µ–ª–∏–∑ —Å —É—á—ë—Ç–æ–º DSA/GDPR –∏ –∑–∞—â–∏—Ç–Ω–æ–≥–æ –ø–µ—Ä–∏–º–µ—Ç—Ä–∞.
**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- Frontend: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ DSAR.
- Backend: —ç–∫—Å–ø–æ—Ä—Ç—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ –∑–∞–ø—Ä–æ—Å—É, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –∂–∞–ª–æ–±.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –∫–æ–Ω—Ç—Ä–æ–ª—å —Ä–µ—Ç–µ–Ω—Ü–∏–∏ –∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ DSAR-–æ–ø–µ—Ä–∞—Ü–∏–π.
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: Cloudflare WAF, Zero Trust –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ.
- AI –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –æ—Ç—á—ë—Ç—ã –ø–æ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –Ω–∞—Ä—É—à–µ–Ω–∏—è–º.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã DSAR –∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Post-MVP.
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P1.
**–°—Ç–∞—Ç—É—Å:** üîú.
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** WAF/Zero Trust –∞–∫—Ç–∏–≤–Ω—ã, DSAR-–ø—Ä–æ—Ü–µ–¥—É—Ä–∞ –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞, –≤—ã–ø–æ–ª–Ω–µ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏–∑ —Ä–∞–∑–¥–µ–ª–∞ Compliance ([REQ:Compliance]).

### Scaling ‚Äî –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å
**–¶–µ–ª—å:** –ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å —Å–∏—Å—Ç–µ–º—É –∫ —Ä–æ—Å—Ç—É —Ç—Ä–∞—Ñ–∏–∫–∞ –∏ –∫–æ–º–∞–Ω–¥—ã.
**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- Frontend: –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è SSR.
- Backend: –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ—á–µ—Ä–µ–¥–∏, —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ø–ª–∞–Ω —Ä–µ–ø–ª–∏–∫–∞—Ü–∏–∏/—à–∞—Ä–¥–∏—Ä–æ–≤–∞–Ω–∏—è, –∞–Ω–∞–ª–∏–∑ –∑–∞–ø—Ä–æ—Å–æ–≤.
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, –∞–ª–µ—Ä—Ç–∏–Ω–≥.
- AI –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –∞–Ω–∞–ª–∏–∑ –∞–Ω–æ–º–∞–ª–∏–π –ø–æ –º–µ—Ç—Ä–∏–∫–∞–º.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ Zero Trust, –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–æ–≤.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Production.
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P2.
**–°—Ç–∞—Ç—É—Å:** üîú.
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** –º–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –µ–¥–∏–Ω–æ–π –ø–∞–Ω–µ–ª–∏, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã RPO/RTO, –ø—Ä–æ–≤–µ–¥—ë–Ω –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–π —Ç–µ—Å—Ç.

### AI-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚Äî –ö–æ–Ω—Ç–µ–Ω—Ç –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞
**–¶–µ–ª—å:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AI –¥–ª—è –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏.
**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
- Frontend: –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è AI-–ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
- Backend: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è LLM-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—á–µ—Ä–µ–¥–µ–π.
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤ –∏ –≤—ã–≤–æ–¥–æ–≤ –º–æ–¥–µ–ª–µ–π.
- –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Å–µ—Ç–∏.
- AI –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è: –æ–±—É—á–µ–Ω–∏–µ/—Ç–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–µ–π.
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ: –∫–æ–Ω—Ç—Ä–æ–ª—å –ø—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç–∏ –∏ explainability.
**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** Scaling.
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** P3.
**–°—Ç–∞—Ç—É—Å:** üîú.
**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:** AI –¥–∞—ë—Ç –æ–±—ä—è—Å–Ω–∏–º—ã–µ —Ä–µ—à–µ–Ω–∏—è, —Ç–æ—á–Ω–æ—Å—Ç—å –º–æ–¥–µ—Ä–∞—Ü–∏–∏ ‚â•90%, –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã –ª–æ–≥–∏—Ä—É—é—Ç—Å—è.

## 3. –ü–µ—Ä–µ–∫—Ä—ë—Å—Ç–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- –ü–æ–ª–∏—Ç–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ ‚Äî —Å–º. [REQ:Security], [TODO #1], [TODO #2].
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ API –∏ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –ª–æ–≥–∏ ‚Äî —Å–º. [REQ:Security], [TODO #3], [TODO #5].
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ö–µ–º–æ–π –∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏ ‚Äî —Å–º. [REQ:Data], [TODO #4].
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ ‚Äî —Å–º. [REQ:Quality], [TODO #6].
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã ‚Äî —Å–º. [REQ:Integrations].
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –Ω–æ—Ä–º–∞—Ç–∏–≤–∞–º ‚Äî —Å–º. [REQ:Compliance].

### M4 - ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ onboarding (GDPR)
**ÔøΩÔøΩÔøΩÔøΩ:** ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ registration ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ GDPR-ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ Supabase ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ, ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ onboarding.
**ÔøΩ·≠ÆÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ:**
- Frontend: ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ `/register` ÔøΩ i18n (RU/EN/NL/FR), ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ, checkbox'ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ, redirect ÔøΩÔøΩ `/onboarding`.
- Backend: `/api/auth/register` (Supabase signUp + service role upsert `profiles`, ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ consent ÔøΩ `logs`), ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ `/api/me` (`verifiedEmail`, `consents`).
- ÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ: ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ `profiles.consents jsonb` + ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩ requirements/API docs.
- UX: —Å–µ—Ä–≤–µ—Ä–Ω–∞—è `/onboarding` ÔøΩ checklist (email confirm, profile edit, phone verify).
**ÔøΩÔøΩÔøΩÔøΩ·®¨ÔøΩÔøΩÔøΩ:** ??
**ÔøΩ‡®ÆÔøΩÔøΩÔøΩ:** P1.
**ÔøΩÔøΩÔøΩ‡®® ÔøΩÔøΩ‚Æ¢ÔøΩÔøΩÔøΩÔøΩ:** 
- ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ email/password ÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ√ªÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ (`terms`/`privacy`) ([REQ:Compliance]).
- Supabase ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ confirmation email ÔøΩ redirect `next=/onboarding`.
- `/api/me` ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ `verifiedEmail`, `verifiedPhone`, `consents` ([REQ:Security], [REQ:Compliance]).
- Audit log `consent_accept` ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ `logs` ([REQ:Data]).

**ÔøΩ·ØÆÔøΩÔøΩÔ•¨ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ (M4 Backlog):**
1. ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ UI ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ –≤ –ø—Ä–æ—Ñ–∏–ª–µ (opt-in/out marketing) ([REQ:Compliance], [TODO #5]).
2. –ê–≤—Ç–æ-—Ç–µ—Å—Ç—ã API `/api/auth/register` –∏ happy/error paths ([REQ:Quality], [TODO #6]).
3. –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä onboarding –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ + –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ —à–∞–≥–∞–º ([REQ:Core]).

## 4. –†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫
- M2 ‚Äî 4‚Äì6 –Ω–µ–¥–µ–ª—å.
- M3 ‚Äî 3‚Äì4 –Ω–µ–¥–µ–ª–∏ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è M2.
- Post-MVP ‚Äî 4 –Ω–µ–¥–µ–ª–∏.
- Production ‚Äî 4‚Äì6 –Ω–µ–¥–µ–ª—å (—Å —É—á—ë—Ç–æ–º –∞—É–¥–∏—Ç–æ–≤).
- Scaling ‚Äî 6‚Äì8 –Ω–µ–¥–µ–ª—å.
- AI-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚Äî 8+ –Ω–µ–¥–µ–ª—å, –ø–æ –º–µ—Ä–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—ã.

## 5. –†–∏—Å–∫–∏ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ RLS –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö –ø–æ–≤—ã—à–∞–µ—Ç —Ä–∏—Å–∫ —É—Ç–µ—á–µ–∫ ([REQ:Security], [TODO #1]).
- –ê–¥–º–∏–Ω-–¥–æ—Å—Ç—É–ø –ø–æ email –ø–æ–¥–≤–µ—Ä–∂–µ–Ω spoofing ([REQ:Security], [TODO #2]).
- Rate limiting –æ–ø–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ –≤–Ω–µ—à–Ω—é—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Upstash; –ø—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –∫–≤–æ—Ç–∞—Ö –≤–æ–∑–º–æ–∂–Ω—ã –ª–æ–∂–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏–ª–∏ –ø–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥ ([REQ:Security]).
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –∏ cron-–∑–∞–¥–∞—á–∏: reports/trust_score —É–∂–µ –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –º–∏–≥—Ä–∞—Ü–∏–∏, –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π cleanup –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ Edge Function `maintenance-cleanup`; –æ—Å—Ç–∞—é—Ç—Å—è –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ ([REQ:Data], [TODO #4], [TODO #5]).
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è API –∏ RLS ‚Äî —Ä–∏—Å–∫ —Ä–µ–≥—Ä–µ—Å—Å–∏–π ([REQ:Quality], [TODO #6]).
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ Itsme/KBO –∏ WAF —Ç—Ä–µ–±—É—é—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ —Å –∫–æ–º–ø–ª–∞–µ–Ω—Å–æ–º ([REQ:Integrations], [REQ:Compliance]).
- Recupel / WEEE: ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ID Recupel (ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩ 29.03.2025); ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩ ÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩ ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ ([REQ:Compliance], [TODO #7]).
- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç: –∫–∞—Å–∫–∞–¥–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –º–∞—Ä–∫–∞/–º–æ–¥–µ–ª—å/–≥–æ–¥ + —Å–±–æ—Ä –ø—Ä–æ–±–µ–≥–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è; EV-–ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü `vehicle_makes`/`vehicle_models`/`vehicle_generations` ([REQ:Core], [REQ:Data], [TODO #8]).

## 6. –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–æ–º
–§–∞–π–ª PLAN.md —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ï–≥–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∑–Ω–∞—á–∏–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏–ª–∏ –¥–æ—Ä–æ–∂–Ω–æ–π –∫–∞—Ä—Ç–µ, —á—Ç–æ–±—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Å `docs/requirements.md`, `docs/ARCH_RULES.md`, `docs/TODO.md` –∏ `docs/ARCHITECTURE.md`.

[REQ:Core]: requirements.md#project-overview
[REQ:Security]: requirements.md#authorization--permissions
[REQ:Roadmap]: requirements.md#roadmap
[REQ:Stack]: requirements.md#technologies--libraries
[REQ:Data]: requirements.md#database-schema
[REQ:Quality]: requirements.md#roadmap
[REQ:Integrations]: requirements.md#infrastructure--integrations
[REQ:Compliance]: requirements.md#compliance-gdpr--dsa
[TODO #1]: TODO.md#lyvox-todo
[TODO #2]: TODO.md#lyvox-todo
[TODO #3]: TODO.md#lyvox-todo
[TODO #4]: TODO.md#lyvox-todo
[TODO #5]: TODO.md#lyvox-todo
[TODO #6]: TODO.md#lyvox-todo
[TODO #7]: TODO.md#lyvox-todo
[TODO #8]: TODO.md#lyvox-todo


