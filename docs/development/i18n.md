# –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (NL/FR/EN/RU)

## Current State

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| i18n routing | Next.js App Router `[locale]` |
| –ü–µ—Ä–µ–≤–æ–¥—ã UI | `apps/web/src/i18n/locales/` |

## Supported Locales

| Code | –Ø–∑—ã–∫ | Default –¥–ª—è |
|------|------|-------------|
| `nl` | Nederlands | –ë–µ–ª—å–≥–∏—è (Flanders) |
| `fr` | Fran√ßais | –ë–µ–ª—å–≥–∏—è (Wallonia), –§—Ä–∞–Ω—Ü–∏—è |
| `en` | English | International |
| `ru` | –†—É—Å—Å–∫–∏–π | –†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ |

## Translation Coverage

| –û–±–ª–∞—Å—Ç—å | –°—Ç–∞—Ç—É—Å | –ü—É—Ç—å –∫ —Ñ–∞–π–ª–∞–º |
|---------|--------|--------------|
| UI strings | –ß–∞—Å—Ç–∏—á–Ω–æ | `apps/web/src/i18n/locales/*.json` |
| Email templates | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | `apps/web/src/lib/email/templates/` |
| Push notifications | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –í payload |
| SEO metadata | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | generateMetadata |
| –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ | –ò–∑ –ë–î | `categories.name_nl/fr/en/ru` |
| API errors | –ù–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | `apiErrors.ts` |

## Currency & Number Formatting

**Helper —Ñ—É–Ω–∫—Ü–∏–∏:**
```typescript
// apps/web/src/lib/i18n/formatCurrency.ts
export function formatCurrency(
  amount: number,
  currency: string = 'EUR',
  locale: string
): string {
  return new Intl.NumberFormat(locale, {
    style: 'currency',
    currency,
    minimumFractionDigits: 0,
    maximumFractionDigits: 0
  }).format(amount);
}

// –ü—Ä–∏–º–µ—Ä—ã:
// formatCurrency(4900, 'EUR', 'nl') ‚Üí "4.900 ‚Ç¨"
// formatCurrency(4900, 'EUR', 'fr') ‚Üí "4 900 ‚Ç¨"
// formatCurrency(4900, 'RUB', 'ru') ‚Üí "4 900 ‚ÇΩ"
```

**–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç:**
```typescript
// apps/web/src/lib/i18n/formatDate.ts
export function formatDate(
  date: Date | string,
  locale: string,
  options?: Intl.DateTimeFormatOptions
): string {
  return new Intl.DateTimeFormat(locale, {
    year: 'numeric',
    month: 'long',
    day: 'numeric',
    ...options
  }).format(new Date(date));
}
```

## Language Switcher

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `apps/web/src/components/LanguageSwitcher.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- Dropdown –≤ header
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤—ã–±–æ—Ä–∞ –≤ cookie
- URL –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: `/?lang=nl` –∏–ª–∏ `/nl/`

**Implementation:**
```typescript
function LanguageSwitcher() {
  const [locale, setLocale] = useLocale();
  
  const handleChange = (newLocale: string) => {
    setLocale(newLocale);
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ cookie
    document.cookie = `NEXT_LOCALE=${newLocale}; path=/; max-age=31536000`;
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ URL –∏–ª–∏ reload
    window.location.href = `/${newLocale}${window.location.pathname.replace(/^\/(nl|fr|en|ru)/, '')}`;
  };
  
  return (
    <Select value={locale} onValueChange={handleChange}>
      <SelectItem value="nl">Nederlands</SelectItem>
      <SelectItem value="fr">Fran√ßais</SelectItem>
      <SelectItem value="en">English</SelectItem>
      <SelectItem value="ru">–†—É—Å—Å–∫–∏–π</SelectItem>
    </Select>
  );
}
```

## Category Localization

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏:**
1. –ó–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (–∏–∑ cookie/URL)
2. Fallback –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π (`name_en`)
3. Fallback –Ω–∞ —Ä—É—Å—Å–∫–∏–π (`name_ru`)

**Helper:**
```typescript
function getCategoryName(category: Category, locale: string): string {
  const localeMap: Record<string, keyof Category> = {
    nl: 'name_nl',
    fr: 'name_fr',
    en: 'name_en',
    ru: 'name_ru'
  };
  
  const field = localeMap[locale] || 'name_en';
  return category[field] || category.name_en || category.name_ru || category.slug;
}
```

## Email Templates Localization

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
apps/web/src/lib/email/templates/
  ‚îú‚îÄ‚îÄ new-message/
  ‚îÇ   ‚îú‚îÄ‚îÄ nl.tsx
  ‚îÇ   ‚îú‚îÄ‚îÄ fr.tsx
  ‚îÇ   ‚îú‚îÄ‚îÄ en.tsx
  ‚îÇ   ‚îî‚îÄ‚îÄ ru.tsx
  ‚îú‚îÄ‚îÄ advert-approved/
  ‚îÇ   ‚îî‚îÄ‚îÄ ...
  ‚îî‚îÄ‚îÄ ...
```

**Helper –¥–ª—è –≤—ã–±–æ—Ä–∞ —à–∞–±–ª–æ–Ω–∞:**
```typescript
async function getEmailTemplate(
  templateName: string,
  locale: string
): Promise<React.ComponentType<Props>> {
  try {
    return await import(`./templates/${templateName}/${locale}`);
  } catch {
    // Fallback –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
    return await import(`./templates/${templateName}/en`);
  }
}
```

## API Errors Localization

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```typescript
// apps/web/src/lib/i18n/apiErrors.ts
const errorMessages: Record<string, Record<string, string>> = {
  nl: {
    'UNAUTHENTICATED': 'U moet ingelogd zijn om deze actie uit te voeren',
    'NOT_FOUND': 'Niet gevonden',
    // ...
  },
  fr: {
    'UNAUTHENTICATED': 'Vous devez √™tre connect√© pour effectuer cette action',
    'NOT_FOUND': 'Non trouv√©',
    // ...
  },
  // ...
};

export function getErrorMessage(code: string, locale: string): string {
  return errorMessages[locale]?.[code] || errorMessages['en'][code] || code;
}
```

## –ß–µ–∫-–ª–∏—Å—Ç MVP

- [ ] –í—Å–µ UI strings –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã
- [ ] Email templates –ª–æ–∫–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- [ ] –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –∏–∑ –ë–î
- [ ] Currency/number formatting
- [ ] Language switcher
- [ ] hreflang –Ω–∞ –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
- [ ] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –æ—à–∏–±–æ–∫ API

## TODO for developers

1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã UI strings**
   - [ ] –ê—É–¥–∏—Ç –≤—Å–µ—Ö hardcoded —Å—Ç—Ä–æ–∫
   - [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–≤–æ–¥–æ–≤ –≤ `locales/*.json`
   - [ ] –ó–∞–º–µ–Ω–∞ –Ω–∞ `t()` —Ñ—É–Ω–∫—Ü–∏–∏

2. **–°–æ–∑–¥–∞—Ç—å helper —Ñ—É–Ω–∫—Ü–∏–∏**
   - [ ] `formatCurrency.ts` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∞–ª—é—Ç—ã
   - [ ] `formatDate.ts` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
   - [ ] `formatNumber.ts` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª

3. **–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å Language Switcher**
   - [ ] –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `LanguageSwitcher.tsx`
   - [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ cookie
   - [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ URL/routing

4. **–õ–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å Email templates**
   - [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –ø–æ –ª–æ–∫–∞–ª—è–º
   - [ ] –ü–µ—Ä–µ–≤–æ–¥—ã –≤—Å–µ—Ö —à–∞–±–ª–æ–Ω–æ–≤
   - [ ] Helper –¥–ª—è –≤—ã–±–æ—Ä–∞ —à–∞–±–ª–æ–Ω–∞

5. **–õ–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å API errors**
   - [ ] –§–∞–π–ª —Å –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏ –æ—à–∏–±–æ–∫
   - [ ] Helper —Ñ—É–Ω–∫—Ü–∏—è
   - [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ `apiErrors.ts`

6. **–î–æ–±–∞–≤–∏—Ç—å hreflang**
   - [ ] –í `generateMetadata` –¥–ª—è –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
   - [ ] –í sitemap.xml
   - [ ] –í HTML head

7. **–õ–æ–∫–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏**
   - [ ] Helper —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–∞–∑–≤–∞–Ω–∏—è
   - [ ] –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
   - [ ] Fallback –ª–æ–≥–∏–∫–∞

8. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ª–æ–∫–∞–ª–µ–π
   - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ fallback
   - [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ (currency, dates)

---

## üîó Related Docs

**Development:** [MASTER_CHECKLIST.md](./MASTER_CHECKLIST.md) ‚Ä¢ [PAGES_AUDIT_REPORT.md](./PAGES_AUDIT_REPORT.md)
**Catalog:** [CATALOG_IMPLEMENTATION_STATUS.md](../catalog/CATALOG_IMPLEMENTATION_STATUS.md) ‚Ä¢ [CATALOG_MASTER.md](../catalog/CATALOG_MASTER.md) ‚Ä¢ [IMPLEMENTATION_SUMMARY.md](../catalog/IMPLEMENTATION_SUMMARY.md)




