# üéØ CSV Import - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

---

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê!

**–î–∞—Ç–∞:** 2025-11-03  
**–ü—Ä–æ–±–ª–µ–º–∞:** –í `/post` –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–æ –ø–æ–∫–æ–ª–µ–Ω–∏–µ E60/E61 –¥–ª—è BMW 5 Series 2008 –≥–æ–¥–∞

---

## üîç –ß—Ç–æ –±—ã–ª–æ –Ω–µ —Ç–∞–∫?

### –û—à–∏–±–∫–∞ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –º–æ–¥–µ–ª–µ–π API:
‚ùå **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è:**
- `gemini-2.0-flash-exp` ‚Üí 404
- `gemini-2.0-flash-001` ‚Üí 404
- `gemini-1.5-flash` ‚Üí 404
- `gemini-1.5-pro` ‚Üí 404

‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è (–∏–∑ Google AI Studio):**
- `gemini-2.0-flash-lite` ‚úÖ
- `gemini-2.5-flash` ‚úÖ
- `gemini-2.0-flash` ‚úÖ

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- AI –æ–±–æ–≥–∞—â–µ–Ω–∏–µ –ù–ï —Ä–∞–±–æ—Ç–∞–ª–æ
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å —Ç–æ–ª—å–∫–æ existing enriched –¥–∞–Ω–Ω—ã–µ
- –ú–Ω–æ–≥–∏–µ –ø–æ–∫–æ–ª–µ–Ω–∏—è –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏

---

## üîß –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

### 1. –û–±–Ω–æ–≤–ª—ë–Ω `scripts/import-csv-batch.mjs`:
```javascript
// –ë–´–õ–û:
const models = ['gemini-pro', 'gemini-1.5-flash-001', 'gemini-1.5-pro-001'];

// –°–¢–ê–õ–û:
const models = ['gemini-2.0-flash-lite', 'gemini-2.5-flash', 'gemini-2.0-flash'];
```

### 2. –ü–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ BMW (–¢–ï–°–¢):
```bash
GOOGLE_API_KEY="..." MAKE="BMW" BATCH_SIZE="5" node scripts/import-csv-batch.mjs
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 19 –º–æ–¥–µ–ª–µ–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —á–µ—Ä–µ–∑ AI
- ‚úÖ 60 –ø–æ–∫–æ–ª–µ–Ω–∏–π —Å–æ–∑–¥–∞–Ω–æ (–±—ã–ª–æ 2-3)
- ‚úÖ E60/E61 (2003-2010) –¥–æ–±–∞–≤–ª–µ–Ω–æ!

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î:
```
üìä BMW 5 Series - –í–°–ï –ø–æ–∫–æ–ª–µ–Ω–∏—è –≤ –ë–î:

   1. E12 (1972-1981)
   2. E28 (1981-1988)
   3. E34 (1988-1996)
   4. E39 (1995-2003)
‚úÖ 5. E60/E61 (2003-2010) ‚Üê –ù–ê–ô–î–ï–ù–û!
   6. F10/F11/F07 (2010-2017)
   7. G30/G31 (2016-2023)
   8. G60 (2023-2024)
```

---

## üöÄ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—É—â–µ–Ω–∞

### –ö–æ–º–∞–Ω–¥–∞:
```bash
GOOGLE_API_KEY="..." BATCH_SIZE="10" node scripts/import-csv-batch.mjs
```

### –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è:
- **84 –º–∞—Ä–∫–∏**
- **355 –º–æ–¥–µ–ª–µ–π**
- **~1000+ –ø–æ–∫–æ–ª–µ–Ω–∏–π** (–æ–∂–∏–¥–∞–µ—Ç—Å—è)

### –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
- ‚è±Ô∏è **40-60 –º–∏–Ω—É—Ç** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç API rate limits)

### –ß—Ç–æ –±—É–¥–µ—Ç –ø–æ–ª—É—á–µ–Ω–æ:
- ‚úÖ –í—Å–µ –ø–æ–∫–æ–ª–µ–Ω–∏—è –¥–ª—è –í–°–ï–• –º–æ–¥–µ–ª–µ–π
- ‚úÖ –ü–æ–ª–Ω—ã–µ insights (pros, cons, common issues)
- ‚úÖ –ü–µ—Ä–µ–≤–æ–¥—ã (EN, RU)
- ‚úÖ Reliability & popularity scores
- ‚úÖ Engine examples
- ‚úÖ Transmission types
- ‚úÖ Body types

---

## üìä –û–∂–∏–¥–∞–µ–º–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### BMW (–ø—Ä–∏–º–µ—Ä):
| –ú–æ–¥–µ–ª—å | –ë—ã–ª–æ –ø–æ–∫–æ–ª–µ–Ω–∏–π | –ë—É–¥–µ—Ç –ø–æ–∫–æ–ª–µ–Ω–∏–π |
|--------|---------------|-----------------|
| 1 Series | 0 | 3-4 |
| 2 Series | 0 | 2-3 |
| 3 Series | 2 | 7-8 |
| 4 Series | 0 | 2-3 |
| 5 Series | 1 | 9 ‚úÖ |
| 6 Series | 0 | 4-5 |
| 7 Series | 0 | 6-7 |
| 8 Series | 0 | 3-4 |
| X1 | 0 | 3-4 |
| X2 | 0 | 1-2 |
| X3 | 0 | 4-5 |
| X4 | 0 | 2-3 |
| X5 | 1 | 5-6 |
| X6 | 0 | 3-4 |
| X7 | 0 | 2 |
| Z4 | 0 | 4-5 |
| i3 | 0 | 1 |
| i7 | 0 | 1 |
| i8 | 0 | 1 |

**–ò—Ç–æ–≥–æ –¥–ª—è BMW:** ~60-80 –ø–æ–∫–æ–ª–µ–Ω–∏–π

### –í—Å–µ –º–∞—Ä–∫–∏:
- **–î–æ:** 724 –ø–æ–∫–æ–ª–µ–Ω–∏—è
- **–ü–æ—Å–ª–µ:** ~2000+ –ø–æ–∫–æ–ª–µ–Ω–∏–π
- **–ü—Ä–∏—Ä–æ—Å—Ç:** +~1300 –ø–æ–∫–æ–ª–µ–Ω–∏–π

---

## üìù –ü—Ä–∏–º–µ—Ä –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### BMW 5 Series E60/E61:
```json
{
  "code": "E60/E61 (2003-2010)",
  "start_year": 2003,
  "end_year": 2010,
  "facelift": true,
  "production_countries": ["Germany"],
  "body_types": ["Sedan", "Wagon"],
  "fuel_types": ["Gasoline", "Diesel"],
  "transmission_types": ["Manual", "Automatic"],
  "summary": "Fifth generation with advanced technology and design",
  "pros": [
    "Powerful engine lineup",
    "Advanced technology features",
    "Excellent handling"
  ],
  "cons": [
    "Expensive maintenance",
    "Complex electronics can be problematic"
  ],
  "inspection_tips": [
    "Check for oil leaks in V8/V10 engines",
    "Inspect suspension bushings",
    "Test all electronic systems"
  ],
  "engine_examples": [
    "2.5L I6",
    "3.0L I6",
    "4.4L V8",
    "5.0L V10 (M5)"
  ],
  "common_issues_by_engine": [
    {
      "engine_code": "N62",
      "common_issues_ru": [
        "–£—Ç–µ—á–∫–∞ –º–∞—Å–ª–∞ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫–ª–∞–¥–∫–∏",
        "–ü—Ä–æ–±–ª–µ–º—ã —Å —Å–∏—Å—Ç–µ–º–æ–π –æ—Ö–ª–∞–∂–¥–µ–Ω–∏—è"
      ]
    }
  ]
}
```

---

## ‚è±Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∞:
```powershell
Get-Content csv-import-full.log -Tail 50
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:
```bash
DATABASE_URL="..." node scripts/quick-stats.mjs
# –û–∂–∏–¥–∞–µ—Ç—Å—è: –ü–æ–∫–æ–ª–µ–Ω–∏–π: ~2000+
```

---

## üéØ –ß—Ç–æ –±—É–¥–µ—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è SQL seed:
```bash
INPUT_JSON="seed/vehicles_from_csv_enriched.json" node scripts/generateVehicleSeed.mjs
```

### 2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –ë–î:
```bash
DATABASE_URL="..." node scripts/runSeed.mjs ./vehicles_seed.sql
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–∞–π—Ç–µ:
- –û—Ç–∫—Ä—ã—Ç—å `/post`
- –í—ã–±—Ä–∞—Ç—å BMW
- –í—ã–±—Ä–∞—Ç—å 5 Series
- –í—ã–±—Ä–∞—Ç—å –≥–æ–¥ 2008
- ‚úÖ **E60/E61 –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ!**

---

## üìû –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### API –ª–∏–º–∏—Ç—ã (Google Gemini):
- **gemini-2.0-flash-lite:** 119/4K RPM ‚úÖ
- **gemini-2.5-flash:** 2/1K RPM ‚úÖ
- **gemini-2.0-flash:** 1/2K RPM ‚úÖ

**–ò—Ç–æ–≥–æ:** –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è ~1500-2000 –∑–∞–ø—Ä–æ—Å–æ–≤

### Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞:
- **10 –º–æ–¥–µ–ª–µ–π** –∑–∞ 1 –∑–∞–ø—Ä–æ—Å
- **355 –º–æ–¥–µ–ª–µ–π** = ~36 –∑–∞–ø—Ä–æ—Å–æ–≤
- **–° —É—á—ë—Ç–æ–º rate limits:** 40-60 –º–∏–Ω—É—Ç

---

## ‚úÖ Checklist

- [x] –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π API
- [x] –¢–µ—Å—Ç–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ BMW –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- [x] E60/E61 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ –≤ –ë–î
- [ ] üîÑ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ 355 –º–æ–¥–µ–ª–µ–π (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ)
- [ ] ‚è≥ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫ –ë–î
- [ ] ‚è≥ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ

---

## üéâ –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç (–ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è)

### –°–∞–π—Ç –ø–æ–ª—É—á–∏—Ç:
- ‚úÖ **202 –º–∞—Ä–∫–∏**
- ‚úÖ **796 –º–æ–¥–µ–ª–µ–π**
- ‚úÖ **~2000+ –ø–æ–∫–æ–ª–µ–Ω–∏–π** (–±—ã–ª–æ 724)
- ‚úÖ **–ü–æ–ª–Ω—ã–µ insights** –¥–ª—è –í–°–ï–• –º–æ–¥–µ–ª–µ–π
- ‚úÖ **–ü–µ—Ä–µ–≤–æ–¥—ã EN/RU** –¥–ª—è –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–∂–µ—Ç:
- –í—ã–±—Ä–∞—Ç—å –ª—é–±—É—é –º–∞—Ä–∫—É
- –í—ã–±—Ä–∞—Ç—å –ª—é–±—É—é –º–æ–¥–µ–ª—å
- –í—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –≥–æ–¥
- ‚úÖ **–£–≤–∏–¥–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–∫–æ–ª–µ–Ω–∏–µ** (–≤–∫–ª—é—á–∞—è E60/E61 –¥–ª—è BMW 5 Series 2008)

---

**üöÄ –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–ø—É—â–µ–Ω! –û–∂–∏–¥–∞–π—Ç–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —á–µ—Ä–µ–∑ 40-60 –º–∏–Ω—É—Ç.**

**–°–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏–∏:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥
Get-Content csv-import-full.log -Tail 50

# 2. –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å SQL
INPUT_JSON="seed/vehicles_from_csv_enriched.json" node scripts/generateVehicleSeed.mjs

# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∫ –ë–î
DATABASE_URL="..." node scripts/runSeed.mjs ./vehicles_seed.sql

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
node scripts/quick-stats.mjs
```

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-11-03  
**–°—Ç–∞—Ç—É—Å:** üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ  
**ETA:** 40-60 –º–∏–Ω—É—Ç

